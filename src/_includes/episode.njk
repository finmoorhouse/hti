---
layout: base.njk
extraStyle:
  ["/style/episode.css", "https://unpkg.com/katex@latest/dist/katex.min.css"]
---

{% set var = number+"/"+backgroundImage %} {% bg number+"/"+backgroundImage %}
<span
  class="px-3 py-1 rounded-lg bg-opacity-50 bg-slate-800 font-sans mb-3 text-slate-200 bg-blend-multiply inline-block border border-slate-400 shadow-sm border-opacity-50 align-top sm:text-base text-sm"
>
  Episode {{ number }} &#8226; {% if page.date %}
  {{
    page.date.toLocaleDateString("en-GB", {
      year: "numeric",
      month: "long",
      day: "numeric"
    })
  }}
</span>
<h1
  class="mb-4 text-slate-50 align-bottom inline-block md:mt-[130px] sm:text-4xl text-2xl sm:font-bold font-normal mt-12"
>
  {{ title }}
</h1>
{% endif %} {% endbg %} {% if content | toc %}

<div
  class="hidden sm:flex flex-wrap justify-center mb-2 rounded-md pt-2 mx-auto"
>
  <!-- <span
    href="{{ item.url }}"
    class="no-underline mr-2 font-sans mb-2 hidden md:block align-bottom"
    >App links:
  </span> -->
  {% for item in links.items %}
  <a
    href="{{ item.url }}"
    class="text-center no-underline border mr-2 border-yellow-400 bg-yellow-300 font-sans outline-yellow-500 outline-[3px] px-3 py-1 rounded-lg block outline-offset-[-3px] hover:bg-yellow-200 shadow-sm mb-2"
    target="_blank"
    >{{ item.name }}</a
  >
  {% endfor %}
</div>

<script
  type="module"
  crossorigin
  src="https://embed.type3.audio/player.js"
></script>
<type-3-player
  mp3-url="{{ audio }}"
  custom-css="span > div.-z-50 {border: 1px solid #c5d2dc;}"
  background-color="#f1f5f9"
  analytics="none"
  primary-color="#374151"
  secondary-color="#737e8a"
  accent-color="#fde047"
  primary-font-family="Merriweather,Source Serif Pro,Apple Garamond,Baskerville,Libre Baskerville,Droid Serif,Times New Roman,Times,serif,ui-serif,Noto Emoji,Quivira, serif"
  t3a-logo="false"
  secondary-font-family="ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji"
>
</type-3-player>
<!-- Can add to player: box-shadow: 0 1px 8px 0 rgb(0 0 0 / 0.05), 0 1px 2px -1px rgb(0 0 0 / 0.1);}" -->
<div class="flex flex-wrap mt-2 mb-2 justify-center">
  <a
    href="/episodes"
    class="rounded-md font-sans no-underline py-1 px-3 font-medium text-gray-700 hover:outline outline-1 outline-gray-300 box-border sm:inline-block hidden"
    >← Back to all episodes</a
  >
  <!-- <span
    href="/episodes"
    class="rounded-md font-sans no-underline py-2 px-0 mb-4 inline-block text-slate-400"
    >&#8226;</span
  > -->
  <a
    href="https://feedback.hearthisidea.com/episode?title={{ title }}&number=2"
    class="ml-4 rounded-md font-sans no-underline py-1 px-3 font-medium text-gray-700 inline-block hover:outline outline-1 outline-gray-300 box-border"
    >Leave feedback ↗</a
  >
</div>

<hr class="sm:mt-8 mt-4 sm:mb-8 mb-6" />

<div
  class="block desktop:hidden text-sm px-8 py-2 font-sans mb-4 bg-slate-100 rounded-md ring-gray-300 hover:ring-1"
>
  <h2 class="mt-4">Contents</h2>
  {{ content | toc | safe }}
</div>

<nav class="side-nav opacity-60 text-sm hidden font-sans hover:opacity-100">
  <div class="side-nav-offset hidden desktop:block overflow-hidden">
    <h2>Contents</h2>
    <p>{{ content | wordStats }}</p>
    {{ content | toc | safe }}
    <br/>
    <a
      href="#top"
      class="no-underline rounded-sm outline outline-1 outline-gray-300 p-2 ml-2 hover:bg-slate-100 box-border"
      >Back to top &#8593;</a
    >
  </div>
</nav>
{% endif %}

<div
  class="hidden md:block absolute inset-x-[calc(-50vw+32ch)] top-[-100px] bg-slate-100 bottom-10 h-[650px] px-[50px] -z-10"
></div>

{{ content | safe }}

<nav
  class="flex mt-12 mb-2 justify-center border-t bottom-8 border-slate-200 pt-8"
  aria-label="Pagination"
>
  <a
    href="/episodes"
    class="rounded-md bg-slate-100 font-sans no-underline py-1 px-3 mx-2 border border-gray-300 shadow-sm font-medium text-gray-700 hover:bg-gray-50"
    >← Back to all episodes</a
  >
  <a
    href="https://feedback.hearthisidea.com/episode?title={{ title }}&number={{
      number
    }}"
    class="rounded-md bg-slate-100 font-sans no-underline py-1 px-3 mx-2 border border-gray-300 shadow-sm font-medium text-gray-700 hover:bg-gray-50"
    >Leave feedback on this episode ↗</a
  >
</nav>
